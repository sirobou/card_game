import{T as h}from"./Title-826f512d.js";import{d as u,r as w,c as S,a as s,o as m,b as B,w as a,e,f as F,g as V,_ as j,h as k,F as H,i as T}from"./index-e70186fd.js";import{B as C,t as N}from"./Player-ea3467f4.js";const E=u({__name:"HomeForm",emits:["submit"],setup(d,{emit:r}){const t=w(""),o=[n=>n?!0:"プレイヤー名を入力してください",n=>n.length>=16?"プレイヤー名は16文字以内で入力してください":!0],l=S(()=>o.some(n=>n(t.value)!==!0)),c=r,p=()=>{c("submit",t.value)};return(n,_)=>{const f=s("v-text-field"),b=s("v-col"),i=s("v-row"),v=s("v-btn"),y=s("v-container"),x=s("v-form");return m(),B(x,{"fast-fail":"",onSubmit:V(p,["prevent"])},{default:a(()=>[e(y,null,{default:a(()=>[e(i,{align:"center",justify:"center"},{default:a(()=>[e(b,null,{default:a(()=>[e(f,{modelValue:t.value,"onUpdate:modelValue":_[0]||(_[0]=g=>t.value=g),rules:o,as:"input",type:"text",label:"プレイヤー名"},null,8,["modelValue"])]),_:1})]),_:1}),e(i,{align:"center",justify:"center"},{default:a(()=>[e(v,{type:"submit",disabled:l.value,size:"x-large",color:"primary"},{default:a(()=>[F("ゲームに参加")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])}}});const I=j(E,[["__scopeId","data-v-b4e1b59e"]]),$=u({__name:"Home",setup(d){const r=async t=>{const o=await fetch(`${C}/api/lobby/join`,{method:"POST",body:JSON.stringify({name:t})});if(o.ok){const l=await o.json(),c=N(l).id;localStorage.setItem("id",c),T.push("/lobby")}else console.error(o)};return(t,o)=>(m(),k(H,null,[e(h),e(I,{onSubmit:r})],64))}});export{$ as default};
